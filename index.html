<!DOCTYPE html>
<html lang="en">

<head>
    <title>Aqua Drain and Waterworks</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/site.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="shortcut icon" href="./favicon.png">
</head>

<body>

    <div id="xHeader">
        <a href="#">
            <img id="logo" src="images/logo.svg" />
        </a>
        <div id="xPhoneAndHeaders">
            <div id="xPhone">
                <span id="labelPhone" class="phoneLabel">647 979 3347</span>
                <span id="labelCallWorld" class="phoneLabel">CALL</span>
                <img id="labelMapleLeaf" src="images/mapleLeaf.svg" />
            </div>
            <div id="xHeaders">
                <div class="headerLabelCell" id="drainHeader">
                    DRAIN
                </div>
                <div class="headerLabelCell" id="waterServiceHeader">
                    WATER SERVICE
                </div>
                <div class="headerLabelCell" id="waterProofingHeader">
                    WATERPROOFING
                </div>
                <div class="headerLabelCell" id="emergencyPlumbingHeader">
                    EMERGENCY PLUMBING
                </div>
                <div class="headerLabelCell" id="promotionHeader">
                    PROMOTION
                </div>
            </div>
            <div id="xMinimizedHeaders">
                <img id="hamburgerIcon" src="images/hamburgerMenu.svg">
                <ul id="xHeadersMenu">
                    <li id="subDrainHeader">DRAIN</li>
                    <li id="subWaterServiceHeader">WATER SERVICE</li>
                    <li id="subWaterProofingHeader">WATERPROOFING</li>
                    <li id="subEmergencyPlumbingHeader">EMERGENCY PLUMBING</li>
                    <li id="subPromotionHeader">PROMOTION</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="backgroundFiller">
        <div>
            <div>AQUA DRAIN</div>
            <div>&amp;</div>
            <div>WATERWORKS</div>
        </div>
    </div>

    <div id="content">
        <div class="xContent" id="mainContentTable">
            <div class="xChapterHeader">
                FREE ESTIMATE
            </div>
            <form id="formComment">
                <div id="phoneAndNameAndEmailSection">
                    <input id="name" class="entryField" placeholder="Name" type="text" required/>
                    <input id="phone" class="entryField" placeholder="Phone" type="text" required/>
                    <input id="email" class="entryField" placeholder="Email" type="email" required/>
                </div>
                <div>
                    <textarea id="comments" placeholder="How can we help you?" rows="5"></textarea>
                </div>
                <div id="formButtons">
                    <button type="submit" id="btnSubmit" data-loading-text="Sending...">Send</button>
                </div>
            </form>
        </div>

        <div class="xContent" id="drainContentTable">
            <div class="xChapterHeader">
                DRAIN
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    CAUSES
                </div>
                <div class="xChapterItemContent">
                    Pipe blockages result from items that are not intended to be flushed down the drain. For example, cooking oils, cloths and
                    wipes, sanitary supplies and other household items. In addition, tree roots can grow into the sewer pipe
                    and lead to drain damage or blockage. Furthermore, cast iron or clay pipes may break over time. Finally,
                    extreme weather conditions, such as heavy rains may lead to basement flooding.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    SOLUTIONS
                </div>
                <div class="xChapterItemContent">
                    Our licensed plumber will conduct a thorough investigation to identify problem areas using special equipment. Then, Aqua
                    Drain and Waterworks specialists will perform necessary excavation and snaking to remove the blockage.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    PLUMBER TIPS
                </div>
                <div class="xChapterItemContent">
                    First signs of clogged drains, such as slow drain and sewage backup should not be neglected. An experienced plumber is needed
                    to locate a problem and suggest appropriate solutions.
                </div>
            </div>
        </div>

        <div class="xContent" id="waterServiceContentTable">
            <div class="xChapterHeader">
                WATER SERVICE
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    CAUSES
                </div>
                <div class="xChapterItemContent">
                    Water lines may be affected by natural wear, damage, temperature change and previous repairs. Lead water lines may be affected
                    by corrosion. As a result of water leak, you may experience loss of water supply or low water pressure.
                    In extreme cases, broken water supply lines may lead to flooding.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    SOLUTIONS
                </div>
                <div class="xChapterItemContent">
                    In case of water leaks or emergency situations, Aqua Drain and Waterworks technicians will be able to locate the damage and
                    perform prompt repairs. Common measures include machine excavation or hand dig in the affected area,
                    replacement of the water service line or its sections.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    PLUMBER TIPS
                </div>
                <div class="xChapterItemContent">
                    Important! In case of emergency, you can turn off the water supply by closing the main water supply valve which is usually
                    located on the foundation wall where the drinking water pipe enters the home. Ensure unobstructed access
                    to this area at all times. Even though water is the source of life, it may cause damage and financial
                    loss.
                </div>
            </div>
        </div>

        <div class="xContent" id="waterProofingContentTable">
            <div class="xChapterHeader">
                WATERPROOFING
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    CAUSES
                </div>
                <div class="xChapterItemContent">
                    Excess moisture in your basement causes metal oxidation, destroys paper products, creates favourable conditions for mold
                    development and reduces the comfort. Common reasons for wet basements include underground water currents
                    and extreme weather events.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    SOLUTIONS
                </div>
                <div class="xChapterItemContent">
                    Aqua Drain and Waterworks specialists will investigate natural water streams on your property by means of excavating either
                    the most affected areas or the whole perimeter of the house. By applying modern technologies and innovative
                    materials, they will construct an effective water-resistant system.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    PLUMBER TIPS
                </div>
                <div class="xChapterItemContent">
                    Water possesses astonishing abilities, but its strength may cause ruining effects. Over time, it can dissolve and erode even
                    the toughest materials which makes it hazardous for basements and homes. With increasing extreme weather
                    conditions, basement's flooding have become more frequent. Homeowners are strongly advised to research
                    available subsidy programs for basement protection offered by the city government. Please follow the
                    link for further details
                    <a href="https://www.toronto.ca/">toronto.ca</a>
                </div>
            </div>
        </div>

        <div class="xContent" id="emergencyPlumbingContentTable">
            <div class="xChapterHeader">
                EMERGENCY PLUMBING
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    CAUSES
                </div>
                <div class="xChapterItemContent">
                    Homeowners who face an urgent plumbing issues expect for the specialists to be available 24/7 because loss of utility services
                    cause not only inconvenience, but also health hazard.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    SOLUTIONS
                </div>
                <div class="xChapterItemContent">
                    When you contact Aqua Drain and Waterworks, our experienced and professional technicians will promptly assess the situation
                    and suggest best solutions.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    PLUMBER TIPS
                </div>
                <div class="xChapterItemContent">
                    In case of emergencies, you may take appropriate actions to prevent further damage and protect your health by disconnecting
                    water supply and avoiding use of sanitary equipment.
                </div>
            </div>
        </div>

        <div class="xContent" id="promotionContentTable">
            <div class="xChapterHeader">
                PROMOTION
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    CAUSES
                </div>
                <div class="xChapterItemContent">
                    Causes Aqua Drain and Waterworks provides professional plumbing services and offers flexible payment options and discounts.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    SOLUTIONS
                </div>
                <div class="xChapterItemContent">
                    We provide up to 25 years warranty for materials and selected services. We offer customer referral program for you, your
                    family and friends. We reduce prices for repeating clients. We help seniors by offering special pricing
                    and discounts.
                </div>
            </div>
            <div class="xChapterItem">
                <div class="xChapterItemHeader">
                    PLUMBER TIPS
                </div>
                <div class="xChapterItemContent">
                    Choose a plumbing company who employs professional plumber and drain technicians who provide quality services. We are offering
                    services across the GTA area with its variety of building types and natural conditions. In order to meet
                    our clients' expectations, we use modern equipment and employ the most successful technological solutions.
                    Your plumbing problems will be effectively solved by Aqua Drain and Waterworks specialists!
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div>
            <div id="footerCopyright">&#9400; 2018 Aqua Drain and Waterworks</div>

            <div id="contactGroup">
                <a class="footerLabelRight footerMinimizableLabel" href="mailto:contact@aquadrain.org">
                    <div class="iconTextPair">
                        <img class="footerIcon" src="images/email.svg" />
                        <div>contact@aquadrain.org</div>
                    </div>
                </a>

                <a class="footerLabelRight" href="tel:6479793347">
                    <div class="iconTextPair">
                        <img class="footerIcon" src="images/cellphone.svg" />
                        <div>647 979 3347</div>
                    </div>
                </a>

                <a class="footerLabelRight footerMinimizableLabel" href="https://www.facebook.com/AquaDrainAndWaterworks/">
                    <div class="iconTextPair">
                        <img class="footerIcon" src="images/facebook.svg" />
                        <div class="footerHiddenFooterIcon">facebook</div>
                    </div>
                </a>
            </div>
        </div>
    </footer>

    <script>
        $(document)
            .ready(function () {
                // Add smooth scrolling to all links in navbar + footer link

                const main = "mainContentTable";
                const drainContentTable = "drainContentTable";
                const waterServiceContentTable = "waterServiceContentTable";
                const waterProofingContentTable = "waterProofingContentTable";
                const emergencyPlumbingContentTable = "emergencyPlumbingContentTable";
                const promotionContentTable = "promotionContentTable";

                $("#drainHeader").click(function () {
                    console.log("drainHeader")
                    showContentTable(drainContentTable)
                })
                $("#subDrainHeader").click(function () {
                    console.log("drainHeader")
                    showContentTable(drainContentTable)
                })

                $("#waterServiceHeader").click(function () {
                    console.log("waterServiceHeader")
                    showContentTable(waterServiceContentTable)
                })
                $("#subWaterServiceHeader").click(function () {
                    console.log("waterServiceHeader")
                    showContentTable(waterServiceContentTable)
                })

                $("#waterProofingHeader").click(function () {
                    console.log("waterProofingHeader")
                    showContentTable(waterProofingContentTable)
                })
                $("#subWaterProofingHeader").click(function () {
                    console.log("waterProofingHeader")
                    showContentTable(waterProofingContentTable)
                })

                $("#emergencyPlumbingHeader").click(function () {
                    console.log("emergencyPlumbingHeader")
                    showContentTable(emergencyPlumbingContentTable)
                })
                $("#subEmergencyPlumbingHeader").click(function () {
                    console.log("emergencyPlumbingHeader")
                    showContentTable(emergencyPlumbingContentTable)
                })

                $("#promotionHeader").click(function () {
                    console.log("promotionHeader")
                    showContentTable(promotionContentTable)
                })
                $("#subPromotionHeader").click(function () {
                    console.log("promotionHeader")
                    showContentTable(promotionContentTable)
                })

                $("#xHeadersMenu").hide();
                $("#hamburgerIcon").click(function () {
                    $("#xHeadersMenu").toggle(300);
                });

                $(document).click(function (e) {
                    if ($(e.target)[0].id != "hamburgerIcon") {
                        $("#xHeadersMenu").hide(300);
                    }
                });

                let allChapters = [
                    {
                        contentName: main,
                        background: "backgroundMain.png",
                        pageHash: ""
                    },
                    {
                        contentName: drainContentTable,
                        background: "backgroundDrain.png",
                        pageHash: "drain"
                    },
                    {
                        contentName: waterServiceContentTable,
                        background: "backgroundDrain.png",
                        pageHash: "water-service"
                    },
                    {
                        contentName: waterProofingContentTable,
                        background: "backgroundDrain.png",
                        pageHash: "water-proofing"
                    },
                    {
                        contentName: emergencyPlumbingContentTable,
                        background: "backgroundDrain.png",
                        pageHash: "emergency-plumbing"
                    },
                    {
                        contentName: promotionContentTable,
                        background: "backgroundDrain.png",
                        pageHash: "promotion"
                    }
                ];

                allChapters.forEach(function (elementName) {
                    $("#" + elementName.contentName).hide();
                })

                processHashChange();

                // for ie support :(
                function findDescriptionByChapter(array, predicate) {
                    for (i = 0; i < array.length; i++) {
                        let el = array[i];
                        if (predicate(el)) {
                            return el;
                        }
                    }
                    return null;
                }

                window.onhashchange = function (e) {
                    processHashChange();
                }

                function processHashChange() {
                    var chapterDescription = findDescriptionByChapter(allChapters, function (el) {
                        return el.pageHash == window.location.hash.substring(1);
                    });

                    showContentTable(chapterDescription.contentName)
                }

                function showContentTable(chapterName) {
                    var chapterDescription = findDescriptionByChapter(allChapters, function (el) {
                        return el.contentName == chapterName;
                    });

                    window.location.hash = chapterDescription.pageHash;

                    allChapters.forEach(function (elementName) {
                        $("#" + elementName.contentName).hide();
                    })

                    $("#" + chapterName).show();
                    $("body").css('background-image', "url('../images/top.png'), url('../images/" + chapterDescription.background + "')");
                }

                $('form')
                    .submit(function (event) {
                        event.preventDefault();

                        var data = {
                            Name: $('#name').val(),
                            Phone: $('#phone').val(),
                            Email: $('#email').val(),
                            Comments: $('#comments').val()
                        };

                        $(function () {
                            $("#btnSubmit").prop("disabled", true);
                        });

                        $.ajax({
                            type: "POST",
                            url: "http://aquadrainservice.azurewebsites.net/api/estimate",
                            data: { "name": $("#name").val(), "phone": $("#phone").val(), "email": $("#email").val(), "comments": $("#comments").val() },
                            crossDomain: true,
                            success: function (msg) {
                                if (msg.success) {
                                    $('#formComment').trigger('reset');
                                    alert("Message has been sent. We will contact you soon!");
                                } else {
                                    if (msg.hasOwnProperty("internalError")) {
                                        console.log(msg.internalError + " " + msg.errors.join(";"));
                                        alert("Internal Error. Please use contact@aquadrain.org to contact us.");
                                    }
                                    else {
                                        var list = $("#listValidateErrors");
                                        list.empty();

                                        for (var i = 0; i < msg.errors.length; i++)
                                            list.append("<li>" + msg.errors[i] + "</li>");

                                        alert("Not all fields are filled. Please try again");
                                    }
                                }

                                console.log("receive success");
                            },
                            error: function (msg) {
                                alert("Internal Error. Please use contact@aquadrain.org to contact us.");
                                console.log("receive error");
                            },
                            complete: function (msg) {
                                $("#btnSubmit").prop("disabled", false);
                                console.log("receive complete");
                            }
                        });
                    });

            })
    </script>

</body>

</html>