<!DOCTYPE html>
<html lang="en">

<head>
    <title>Aqua Drain and Waterworks</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
    <link href="css/site.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body id="myPage" data-spy="scroll" data-target=".navbar" data-offset="50">

    <!-- Modal -->
    <div class="modal" id="modalSuccess" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header modal-header-success">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Success!</h4>
                </div>
                <div class="modal-body">
                    <p>Message has been sent. We will contact you soon!</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modalValidationError" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header modal-header-error">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Error</h4>
                </div>
                <div class="modal-body">
                    <p>Please fix next fields:</p>
                    <ul id="listValidateErrors"></ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modalInternalError" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header modal-header-error">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Internal Error</h4>
                </div>
                <div class="modal-body">
                    <p>Please use <a href="mailto:contact@aquadrain.org">contact@aquadrain.org</a> to contact with us</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>


    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <img class="navbar-brand" src="images/logo.png" style="background-color: white; padding:10px" />
                <a class="navbar-brand" id="phoneBrand" style="margin-left: 5px; margin-right: 5px; margin-top: 0px; margin-bottom: 0px; padding-left: 0;padding-right: 0"
                    href="tel:6479793347">647.979.3347</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#services">SERVICES</a>
                    </li>
                    <!--
                    <li>
                        <a href="#portfolio">PORTFOLIO</a>
                    </li>
                    -->
                    <!--
                    <li>
                        <a href="#testimonials">TESTIMONIALS</a>
                    </li>
                    -->
                    <li>
                        <a href="#estimate">FREE ESTIMATE</a>
                    </li>
                    <li>
                        <a href="#contact">CONTACT</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Container (Services Section) -->
    <div id="services" class="container-fluid text-center">
        <h2>SERVICES</h2>
        <h4>What we offer</h4>
        <br>
        <div class="row">
            <div class="col-sm-4">
                <img src="images/icons/DrainRepair.svg" class="serviceIcon">
                <h4>DRAIN REPAIR</h4>
                <!--<p>Lorem ipsum dolor sit amet..</p>-->
            </div>
            <div class="col-sm-4">
                <img src="images/icons/WaterLineSupplyLine.svg" class="serviceIcon">
                <h4>WATER SUPPLY LINE</h4>
                <!--<p>Lorem ipsum dolor sit amet..</p>-->
            </div>
            <div class="col-sm-4">
                <img src="images/icons/Emergency.svg" class="serviceIcon">
                <h4>EMERGENCY PLUMBER</h4>
                <!--<p>Lorem ipsum dolor sit amet..</p>-->
            </div>
        </div>
        <br><br>
        <div class="row">
            <div class="col-sm-4">
                <img src="images/icons/WaterproofingSolutions.svg" class="serviceIcon">
                <h4>WATERPROOFING SOLUTIONS</h4>
                <!--<p>Lorem ipsum dolor sit amet..</p>-->
            </div>
            <div class="col-sm-4">
                <img src="images/icons/DrainCameraInspection.svg" class="serviceIcon">
                <h4>DRAIN CAMERA INSPECTION</h4>
                <!--<p>Lorem ipsum dolor sit amet..</p>-->
            </div>
            <div class="col-sm-4">
                <img src="images/icons/Other.svg" class="serviceIcon">
                <h4 style="color: #303030;">OTHER</h4>
                <!--<p>Lorem ipsum dolor sit amet..</p>-->
            </div>
        </div>
    </div>

    <!-- Container (Portfolio Section) -->
    <!--
    <div id="portfolio" class="container-fluid text-center bg-grey">
        <h2>Portfolio</h2>
        <h4>What we have created</h4>
        <div class="row text-center slideanim">
            <div class="col-sm-4">
                <div class="thumbnail">
                    <img src="images/paris.jpg" alt="Paris" width="400" height="300">
                    <p>
                        <strong>Paris</strong>
                    </p>
                    <p>Yes, we built Paris</p>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="thumbnail">
                    <img src="images/newyork.jpg" alt="New York" width="400" height="300">
                    <p>
                        <strong>New York</strong>
                    </p>
                    <p>We built New York</p>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="thumbnail">
                    <img src="images/sanfran.jpg" alt="San Francisco" width="400" height="300">
                    <p>
                        <strong>San Francisco</strong>
                    </p>
                    <p>Yes, San Fran is ours</p>
                </div>
            </div>
        </div><br>


    </div>
    -->


    <!-- Container (Testimonials Section) -->
    <!--
    <div id="testimonials" class="container-fluid text-center">
        <h2>What our customers say</h2>
        <div id="myCarousel" class="carousel slide text-center" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>

            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <h4>"This company is the best. I am so happy with the result!"<br><span style="font-style: normal;">Michael Roe, Vice President, Comment Box</span></h4>
                </div>
                <div class="item">
                    <h4>"One word... WOW!!"<br><span style="font-style: normal;">John Doe, Salesman, Rep Inc</span></h4>
                </div>
                <div class="item">
                    <h4>"Could I... BE any more happy with this company?"<br><span style="font-style: normal;">Chandler Bing, Actor, FriendsAlot</span></h4>
                </div>
            </div>

            <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    -->

    <!-- Container (Free Estimate Section) -->
    <div id="estimate" class="container-fluid bg-grey">
        <h2 class="text-center">FREE ESTIMATE</h2>
        <form id="formComment">
            <div class="row">
                <div class="col-sm-4 form-group">
                    <input class="form-control" id="name" name="name" placeholder="Name" type="text" required>
                </div>
                <div class="col-sm-4 form-group">
                    <input class="form-control" id="phone" name="phone" placeholder="Phone" type="text" required>
                </div>
                <div class="col-sm-4 form-group">
                    <input class="form-control" id="email" name="email" placeholder="Email" type="email" required>
                </div>
            </div>
            <textarea class="form-control" id="comments" name="comments" placeholder="How can we help you?" rows="5"></textarea>
            <br>
            <div class="row">
                <div class="col-sm-12 form-group">
                    <button class="btn btn-default pull-right" type="submit" id="btnSubmit" data-loading-text="Sending...">Send</button>
                </div>
            </div>
        </form>
    </div>

    <!-- Container (Contact Section) -->
    <div id="contact" class="container-fluid text-center">
        <h2 class="text-center">CONTACT</h2>
        <div class="row">
            <p>Contact us and we'll get back to you within 24 hours.</p>
            <p>
                <span class="glyphicon glyphicon-map-marker"></span> GTA
            </p>
            <p>
                <span class="glyphicon glyphicon-phone"></span> <a href="tel:6479793347">647.979.3347</a>
            </p>
            <p>
                <span class="glyphicon glyphicon-envelope"></span> <a href="mailto:contact@aquadrain.org">contact@aquadrain.org</a>
            </p>
        </div>
    </div>

    <footer class="container-fluid text-center">
        <a href="#myPage" title="To Top">
            <span class="glyphicon glyphicon-chevron-up"></span>
            <p>© 2016 Aqua Drain and Waterworks</p>
        </a>
    </footer>

    <a class="floatButton" id="phoneButton" href="tel:6479793347">
        <img class="svg-icon" src="images/phone.svg" />
    </a>

    <script>
        $(document)
            .ready(function () {

                // Add smooth scrolling to all links in navbar + footer link
                $(".navbar a, footer a[href='#myPage']")
                    .on('click',
                    function (event) {
                        // Make sure this.hash has a value before overriding default behavior
                        if (this.hash !== "") {
                            // Prevent default anchor click behavior
                            event.preventDefault();

                            // Store hash
                            var hash = this.hash;

                            // Using jQuery's animate() method to add smooth page scroll
                            // The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
                            $('html, body')
                                .animate({
                                    scrollTop: $(hash).offset().top
                                },
                                900,
                                function () {

                                    // Add hash (#) to URL when done scrolling (default click behavior)
                                    window.location.hash = hash;
                                });
                        } // End if
                    });

                $(window)
                    .scroll(function () {
                        $(".slideanim")
                            .each(function () {
                                var pos = $(this).offset().top;

                                var winTop = $(window).scrollTop();
                                if (pos < winTop + 600) {
                                    $(this).addClass("slide");
                                }
                            });
                    });

                $('form')
                    .submit(function (event) {
                        event.preventDefault();

                        var data = {
                            Name: $('#name').val(),
                            Phone: $('#phone').val(),
                            Email: $('#email').val(),
                            Comments: $('#comments').val()
                        };

                        $(function () {
                            $("#btnSubmit").prop("disabled", true);
                            $("#btnSubmit").button('loading');
                        });

                        $.ajax({
                            type: "POST",
                            url: "http://aquadrainservice.azurewebsites.net/api/estimate",
                            data: { "name": $("#name").val(), "phone": $("#phone").val(), "email": $("#email").val(), "comments": $("#comments").val() },
                            crossDomain: true,
                            success: function (msg) {
                                $("#alertSuccess").alert();

                                if (msg.success) {
                                    $('#formComment').trigger('reset');
                                    $("#modalSuccess").modal();
                                } else {
                                    if (msg.hasOwnProperty("internalError")) {
                                        console.log(msg.internalError + " " + msg.errors.join(";"));
                                        $("#modalInternalError").modal();
                                    }
                                    else {
                                        var list = $("#listValidateErrors");
                                        list.empty();

                                        for (var i = 0; i < msg.errors.length; i++)
                                            list.append("<li>" + msg.errors[i] + "</li>");

                                        $("#modalValidationError").modal();
                                    }
                                }

                                console.log("receive success");
                            },
                            error: function (msg) {
                                $("#modalInternalError").modal();
                                console.log("receive error");
                            },
                            complete: function (msg) {
                                $("#btnSubmit").prop("disabled", false);
                                $("#btnSubmit").button('reset');
                                console.log("receive complete");
                            }
                        });
                    });

            })
    </script>

</body>

</html>